<instance format="XCSP3" type="COP">
  <variables>
    <array id="x" size="[6][12]"> 0..40 </array>
    <array id="m" size="[6]"> 0..8 </array>
    <array id="used" size="[6]"> 0 1 </array>
    <var id="patterns"> 0..6 </var>
    <array id="first" size="[12]"> 1..6 </array>
    <array id="last" size="[12]"> 1..6 </array>
    <array id="dur" size="[12]"> 0..12 </array>
  </variables>
  <constraints>
    <sum>
      <list> used[] </list>
      <condition> (eq,patterns) </condition>
    </sum>
    <group>
      <minimum>
        <list> %... </list>
        <condition> (eq,%0) </condition>
      </minimum>
      <args> first[0] add(1,mul(12,sub(1,gt(x[0][0],0)))) add(2,mul(12,sub(1,gt(x[1][0],0)))) add(3,mul(12,sub(1,gt(x[2][0],0)))) add(4,mul(12,sub(1,gt(x[3][0],0)))) add(5,mul(12,sub(1,gt(x[4][0],0)))) add(6,mul(12,sub(1,gt(x[5][0],0)))) </args>
      <args> first[1] add(1,mul(12,sub(1,gt(x[0][1],0)))) add(2,mul(12,sub(1,gt(x[1][1],0)))) add(3,mul(12,sub(1,gt(x[2][1],0)))) add(4,mul(12,sub(1,gt(x[3][1],0)))) add(5,mul(12,sub(1,gt(x[4][1],0)))) add(6,mul(12,sub(1,gt(x[5][1],0)))) </args>
      <args> first[2] add(1,mul(12,sub(1,gt(x[0][2],0)))) add(2,mul(12,sub(1,gt(x[1][2],0)))) add(3,mul(12,sub(1,gt(x[2][2],0)))) add(4,mul(12,sub(1,gt(x[3][2],0)))) add(5,mul(12,sub(1,gt(x[4][2],0)))) add(6,mul(12,sub(1,gt(x[5][2],0)))) </args>
      <args> first[3] add(1,mul(12,sub(1,gt(x[0][3],0)))) add(2,mul(12,sub(1,gt(x[1][3],0)))) add(3,mul(12,sub(1,gt(x[2][3],0)))) add(4,mul(12,sub(1,gt(x[3][3],0)))) add(5,mul(12,sub(1,gt(x[4][3],0)))) add(6,mul(12,sub(1,gt(x[5][3],0)))) </args>
      <args> first[4] add(1,mul(12,sub(1,gt(x[0][4],0)))) add(2,mul(12,sub(1,gt(x[1][4],0)))) add(3,mul(12,sub(1,gt(x[2][4],0)))) add(4,mul(12,sub(1,gt(x[3][4],0)))) add(5,mul(12,sub(1,gt(x[4][4],0)))) add(6,mul(12,sub(1,gt(x[5][4],0)))) </args>
      <args> first[5] add(1,mul(12,sub(1,gt(x[0][5],0)))) add(2,mul(12,sub(1,gt(x[1][5],0)))) add(3,mul(12,sub(1,gt(x[2][5],0)))) add(4,mul(12,sub(1,gt(x[3][5],0)))) add(5,mul(12,sub(1,gt(x[4][5],0)))) add(6,mul(12,sub(1,gt(x[5][5],0)))) </args>
      <args> first[6] add(1,mul(12,sub(1,gt(x[0][6],0)))) add(2,mul(12,sub(1,gt(x[1][6],0)))) add(3,mul(12,sub(1,gt(x[2][6],0)))) add(4,mul(12,sub(1,gt(x[3][6],0)))) add(5,mul(12,sub(1,gt(x[4][6],0)))) add(6,mul(12,sub(1,gt(x[5][6],0)))) </args>
      <args> first[7] add(1,mul(12,sub(1,gt(x[0][7],0)))) add(2,mul(12,sub(1,gt(x[1][7],0)))) add(3,mul(12,sub(1,gt(x[2][7],0)))) add(4,mul(12,sub(1,gt(x[3][7],0)))) add(5,mul(12,sub(1,gt(x[4][7],0)))) add(6,mul(12,sub(1,gt(x[5][7],0)))) </args>
      <args> first[8] add(1,mul(12,sub(1,gt(x[0][8],0)))) add(2,mul(12,sub(1,gt(x[1][8],0)))) add(3,mul(12,sub(1,gt(x[2][8],0)))) add(4,mul(12,sub(1,gt(x[3][8],0)))) add(5,mul(12,sub(1,gt(x[4][8],0)))) add(6,mul(12,sub(1,gt(x[5][8],0)))) </args>
      <args> first[9] add(1,mul(12,sub(1,gt(x[0][9],0)))) add(2,mul(12,sub(1,gt(x[1][9],0)))) add(3,mul(12,sub(1,gt(x[2][9],0)))) add(4,mul(12,sub(1,gt(x[3][9],0)))) add(5,mul(12,sub(1,gt(x[4][9],0)))) add(6,mul(12,sub(1,gt(x[5][9],0)))) </args>
      <args> first[10] add(1,mul(12,sub(1,gt(x[0][10],0)))) add(2,mul(12,sub(1,gt(x[1][10],0)))) add(3,mul(12,sub(1,gt(x[2][10],0)))) add(4,mul(12,sub(1,gt(x[3][10],0)))) add(5,mul(12,sub(1,gt(x[4][10],0)))) add(6,mul(12,sub(1,gt(x[5][10],0)))) </args>
      <args> first[11] add(1,mul(12,sub(1,gt(x[0][11],0)))) add(2,mul(12,sub(1,gt(x[1][11],0)))) add(3,mul(12,sub(1,gt(x[2][11],0)))) add(4,mul(12,sub(1,gt(x[3][11],0)))) add(5,mul(12,sub(1,gt(x[4][11],0)))) add(6,mul(12,sub(1,gt(x[5][11],0)))) </args>
    </group>
    <group>
      <maximum>
        <list> %... </list>
        <condition> (eq,%0) </condition>
      </maximum>
      <args> last[0] mul(gt(x[0][0],0),1) mul(gt(x[1][0],0),2) mul(gt(x[2][0],0),3) mul(gt(x[3][0],0),4) mul(gt(x[4][0],0),5) mul(gt(x[5][0],0),6) </args>
      <args> last[1] mul(gt(x[0][1],0),1) mul(gt(x[1][1],0),2) mul(gt(x[2][1],0),3) mul(gt(x[3][1],0),4) mul(gt(x[4][1],0),5) mul(gt(x[5][1],0),6) </args>
      <args> last[2] mul(gt(x[0][2],0),1) mul(gt(x[1][2],0),2) mul(gt(x[2][2],0),3) mul(gt(x[3][2],0),4) mul(gt(x[4][2],0),5) mul(gt(x[5][2],0),6) </args>
      <args> last[3] mul(gt(x[0][3],0),1) mul(gt(x[1][3],0),2) mul(gt(x[2][3],0),3) mul(gt(x[3][3],0),4) mul(gt(x[4][3],0),5) mul(gt(x[5][3],0),6) </args>
      <args> last[4] mul(gt(x[0][4],0),1) mul(gt(x[1][4],0),2) mul(gt(x[2][4],0),3) mul(gt(x[3][4],0),4) mul(gt(x[4][4],0),5) mul(gt(x[5][4],0),6) </args>
      <args> last[5] mul(gt(x[0][5],0),1) mul(gt(x[1][5],0),2) mul(gt(x[2][5],0),3) mul(gt(x[3][5],0),4) mul(gt(x[4][5],0),5) mul(gt(x[5][5],0),6) </args>
      <args> last[6] mul(gt(x[0][6],0),1) mul(gt(x[1][6],0),2) mul(gt(x[2][6],0),3) mul(gt(x[3][6],0),4) mul(gt(x[4][6],0),5) mul(gt(x[5][6],0),6) </args>
      <args> last[7] mul(gt(x[0][7],0),1) mul(gt(x[1][7],0),2) mul(gt(x[2][7],0),3) mul(gt(x[3][7],0),4) mul(gt(x[4][7],0),5) mul(gt(x[5][7],0),6) </args>
      <args> last[8] mul(gt(x[0][8],0),1) mul(gt(x[1][8],0),2) mul(gt(x[2][8],0),3) mul(gt(x[3][8],0),4) mul(gt(x[4][8],0),5) mul(gt(x[5][8],0),6) </args>
      <args> last[9] mul(gt(x[0][9],0),1) mul(gt(x[1][9],0),2) mul(gt(x[2][9],0),3) mul(gt(x[3][9],0),4) mul(gt(x[4][9],0),5) mul(gt(x[5][9],0),6) </args>
      <args> last[10] mul(gt(x[0][10],0),1) mul(gt(x[1][10],0),2) mul(gt(x[2][10],0),3) mul(gt(x[3][10],0),4) mul(gt(x[4][10],0),5) mul(gt(x[5][10],0),6) </args>
      <args> last[11] mul(gt(x[0][11],0),1) mul(gt(x[1][11],0),2) mul(gt(x[2][11],0),3) mul(gt(x[3][11],0),4) mul(gt(x[4][11],0),5) mul(gt(x[5][11],0),6) </args>
    </group>
    <group>
      <intension> eq(%0,sub(%1,%2)) </intension>
      <args> dur[0] last[0] first[0] </args>
      <args> dur[1] last[1] first[1] </args>
      <args> dur[2] last[2] first[2] </args>
      <args> dur[3] last[3] first[3] </args>
      <args> dur[4] last[4] first[4] </args>
      <args> dur[5] last[5] first[5] </args>
      <args> dur[6] last[6] first[6] </args>
      <args> dur[7] last[7] first[7] </args>
      <args> dur[8] last[8] first[8] </args>
      <args> dur[9] last[9] first[9] </args>
      <args> dur[10] last[10] first[10] </args>
      <args> dur[11] last[11] first[11] </args>
    </group>
    <group note="We must cut enough of each product">
      <sum>
        <list> %... </list>
        <condition> (ge,%0) </condition>
      </sum>
      <args> 5 mul(x[0][0],m[0]) mul(x[1][0],m[1]) mul(x[2][0],m[2]) mul(x[3][0],m[3]) mul(x[4][0],m[4]) mul(x[5][0],m[5]) </args>
      <args> 2 mul(x[0][1],m[0]) mul(x[1][1],m[1]) mul(x[2][1],m[2]) mul(x[3][1],m[3]) mul(x[4][1],m[4]) mul(x[5][1],m[5]) </args>
      <args> 1 mul(x[0][2],m[0]) mul(x[1][2],m[1]) mul(x[2][2],m[2]) mul(x[3][2],m[3]) mul(x[4][2],m[4]) mul(x[5][2],m[5]) </args>
      <args> 3 mul(x[0][3],m[0]) mul(x[1][3],m[1]) mul(x[2][3],m[2]) mul(x[3][3],m[3]) mul(x[4][3],m[4]) mul(x[5][3],m[5]) </args>
      <args> 2 mul(x[0][4],m[0]) mul(x[1][4],m[1]) mul(x[2][4],m[2]) mul(x[3][4],m[3]) mul(x[4][4],m[4]) mul(x[5][4],m[5]) </args>
      <args> 8 mul(x[0][5],m[0]) mul(x[1][5],m[1]) mul(x[2][5],m[2]) mul(x[3][5],m[3]) mul(x[4][5],m[4]) mul(x[5][5],m[5]) </args>
      <args> 6 mul(x[0][6],m[0]) mul(x[1][6],m[1]) mul(x[2][6],m[2]) mul(x[3][6],m[3]) mul(x[4][6],m[4]) mul(x[5][6],m[5]) </args>
      <args> 2 mul(x[0][7],m[0]) mul(x[1][7],m[1]) mul(x[2][7],m[2]) mul(x[3][7],m[3]) mul(x[4][7],m[4]) mul(x[5][7],m[5]) </args>
      <args> 7 mul(x[0][8],m[0]) mul(x[1][8],m[1]) mul(x[2][8],m[2]) mul(x[3][8],m[3]) mul(x[4][8],m[4]) mul(x[5][8],m[5]) </args>
      <args> 2 mul(x[0][9],m[0]) mul(x[1][9],m[1]) mul(x[2][9],m[2]) mul(x[3][9],m[3]) mul(x[4][9],m[4]) mul(x[5][9],m[5]) </args>
      <args> 8 mul(x[0][10],m[0]) mul(x[1][10],m[1]) mul(x[2][10],m[2]) mul(x[3][10],m[3]) mul(x[4][10],m[4]) mul(x[5][10],m[5]) </args>
      <args> 3 mul(x[0][11],m[0]) mul(x[1][11],m[1]) mul(x[2][11],m[2]) mul(x[3][11],m[3]) mul(x[4][11],m[4]) mul(x[5][11],m[5]) </args>
    </group>
    <group note="Each cut must only fit on the stock piece">
      <sum>
        <list> %... </list>
        <coeffs> 2 5 7 8 9 12 13 15 17 20 23 40 </coeffs>
        <condition> (le,40) </condition>
      </sum>
      <args> x[0][] </args>
      <args> x[1][] </args>
      <args> x[2][] </args>
      <args> x[3][] </args>
      <args> x[4][] </args>
      <args> x[5][] </args>
    </group>
    <cumulative>
      <origins> first[] </origins>
      <lengths> dur[] </lengths>
      <heights> 1x12 </heights>
      <condition> (le,7) </condition>
    </cumulative>
    <group note="symmetry elimination: unused cuts are at the beginning">
      <intension> le(%0,mul(%1,40)) </intension>
      <args> x[0][0] used[0] </args>
      <args> x[0][1] used[0] </args>
      <args> x[0][2] used[0] </args>
      <args> x[0][3] used[0] </args>
      <args> x[0][4] used[0] </args>
      <args> x[0][5] used[0] </args>
      <args> x[0][6] used[0] </args>
      <args> x[0][7] used[0] </args>
      <args> x[0][8] used[0] </args>
      <args> x[0][9] used[0] </args>
      <args> x[0][10] used[0] </args>
      <args> x[0][11] used[0] </args>
      <args> x[1][0] used[1] </args>
      <args> x[1][1] used[1] </args>
      <args> x[1][2] used[1] </args>
      <args> x[1][3] used[1] </args>
      <args> x[1][4] used[1] </args>
      <args> x[1][5] used[1] </args>
      <args> x[1][6] used[1] </args>
      <args> x[1][7] used[1] </args>
      <args> x[1][8] used[1] </args>
      <args> x[1][9] used[1] </args>
      <args> x[1][10] used[1] </args>
      <args> x[1][11] used[1] </args>
      <args> x[2][0] used[2] </args>
      <args> x[2][1] used[2] </args>
      <args> x[2][2] used[2] </args>
      <args> x[2][3] used[2] </args>
      <args> x[2][4] used[2] </args>
      <args> x[2][5] used[2] </args>
      <args> x[2][6] used[2] </args>
      <args> x[2][7] used[2] </args>
      <args> x[2][8] used[2] </args>
      <args> x[2][9] used[2] </args>
      <args> x[2][10] used[2] </args>
      <args> x[2][11] used[2] </args>
      <args> x[3][0] used[3] </args>
      <args> x[3][1] used[3] </args>
      <args> x[3][2] used[3] </args>
      <args> x[3][3] used[3] </args>
      <args> x[3][4] used[3] </args>
      <args> x[3][5] used[3] </args>
      <args> x[3][6] used[3] </args>
      <args> x[3][7] used[3] </args>
      <args> x[3][8] used[3] </args>
      <args> x[3][9] used[3] </args>
      <args> x[3][10] used[3] </args>
      <args> x[3][11] used[3] </args>
      <args> x[4][0] used[4] </args>
      <args> x[4][1] used[4] </args>
      <args> x[4][2] used[4] </args>
      <args> x[4][3] used[4] </args>
      <args> x[4][4] used[4] </args>
      <args> x[4][5] used[4] </args>
      <args> x[4][6] used[4] </args>
      <args> x[4][7] used[4] </args>
      <args> x[4][8] used[4] </args>
      <args> x[4][9] used[4] </args>
      <args> x[4][10] used[4] </args>
      <args> x[4][11] used[4] </args>
      <args> x[5][0] used[5] </args>
      <args> x[5][1] used[5] </args>
      <args> x[5][2] used[5] </args>
      <args> x[5][3] used[5] </args>
      <args> x[5][4] used[5] </args>
      <args> x[5][5] used[5] </args>
      <args> x[5][6] used[5] </args>
      <args> x[5][7] used[5] </args>
      <args> x[5][8] used[5] </args>
      <args> x[5][9] used[5] </args>
      <args> x[5][10] used[5] </args>
      <args> x[5][11] used[5] </args>
    </group>
    <group>
      <intension> le(%0,mul(%1,8)) </intension>
      <args> m[0] used[0] </args>
      <args> m[1] used[1] </args>
      <args> m[2] used[2] </args>
      <args> m[3] used[3] </args>
      <args> m[4] used[4] </args>
      <args> m[5] used[5] </args>
    </group>
    <group>
      <intension> le(%0,%1) </intension>
      <args> used[0] m[0] </args>
      <args> used[1] m[1] </args>
      <args> used[2] m[2] </args>
      <args> used[3] m[3] </args>
      <args> used[4] m[4] </args>
      <args> used[5] m[5] </args>
    </group>
    <group>
      <intension> le(%0,%1) </intension>
      <args> used[0] used[1] </args>
      <args> used[1] used[2] </args>
      <args> used[2] used[3] </args>
      <args> used[3] used[4] </args>
      <args> used[4] used[5] </args>
    </group>
  </constraints>
  <objectives>
    <minimize type="sum"> m[] </minimize>
  </objectives>
</instance>
